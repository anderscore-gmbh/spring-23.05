<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Count-Down</title>
    <script>
        window.onload = function () {
            for(i = 0; i < 20; i++) {
                requestSlowGreeting()
            }
        }

        function requestSlowGreeting() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    addElement(this.responseText);
                }
            }
            xhttp.open("GET", "/api/slow", true);
            xhttp.send();
        }

        function addElement(text) {
            var div = document.createElement("div");
            div.innerText = text;
            document.getElementById("greetings").appendChild(div);
        }
    </script>
</head>
<body>
<h1>Responses:</h1>
<div id="greetings">

</div>
</body>
</html>