<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="201px" preserveAspectRatio="none" style="width:833px;height:201px;" version="1.1" viewBox="0 0 833 201" width="833px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wjqzk1dlligo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[615787437c5f23b61c90c6d240d4b67f]
class UserProvider--><rect fill="#DDEEE8" filter="url(#f1wjqzk1dlligo)" height="60.8047" id="UserProvider" style="stroke: #225C4D; stroke-width: 1.5;" width="159" x="6" y="14.5"/><ellipse cx="44.4" cy="30.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M40.3219,26.2656 L40.3219,24.1094 L47.7125,24.1094 L47.7125,26.2656 L45.2438,26.2656 L45.2438,34.3438 L47.7125,34.3438 L47.7125,36.5 L40.3219,36.5 L40.3219,34.3438 L42.7906,34.3438 L42.7906,26.2656 L40.3219,26.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="75" x="63.6" y="34.6543">UserProvider</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="7" x2="164" y1="46.5" y2="46.5"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="7" x2="164" y1="54.5" y2="54.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="12" y="68.7104">getCurrentUserId(): String</text><!--MD5=[b04e628ee490501bae4d7f13dc58167e]
class PreferencesService--><rect fill="#DDEEE8" filter="url(#f1wjqzk1dlligo)" height="73.6094" id="PreferencesService" style="stroke: #225C4D; stroke-width: 1.5;" width="250" x="199.5" y="8"/><ellipse cx="264.25" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M260.1719,19.7656 L260.1719,17.6094 L267.5625,17.6094 L267.5625,19.7656 L265.0938,19.7656 L265.0938,27.8438 L267.5625,27.8438 L267.5625,30 L260.1719,30 L260.1719,27.8438 L262.6406,27.8438 L262.6406,19.7656 L260.1719,19.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="112" x="284.75" y="28.1543">PreferencesService</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="200.5" x2="448.5" y1="40" y2="40"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="200.5" x2="448.5" y1="48" y2="48"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="205.5" y="62.2104">savePreference(key : String, value: String)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="205.5" y="75.0151">loadPreference(key : String): String</text><!--MD5=[8257c574f4d5ec53ac9f25872b58838d]
class PreferencesServiceImpl--><rect fill="#DDEEE8" filter="url(#f1wjqzk1dlligo)" height="48" id="PreferencesServiceImpl" style="stroke: #225C4D; stroke-width: 1.5;" width="178" x="235.5" y="142"/><ellipse cx="250.5" cy="158" fill="#ADD1B2" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M253.4688,163.6406 Q252.8906,163.9375 252.25,164.0781 Q251.6094,164.2344 250.9063,164.2344 Q248.4063,164.2344 247.0781,162.5938 Q245.7656,160.9375 245.7656,157.8125 Q245.7656,154.6875 247.0781,153.0313 Q248.4063,151.375 250.9063,151.375 Q251.6094,151.375 252.25,151.5313 Q252.9063,151.6875 253.4688,151.9844 L253.4688,154.7031 Q252.8438,154.125 252.25,153.8594 Q251.6563,153.5781 251.0313,153.5781 Q249.6875,153.5781 249,154.6563 Q248.3125,155.7188 248.3125,157.8125 Q248.3125,159.9063 249,160.9844 Q249.6875,162.0469 251.0313,162.0469 Q251.6563,162.0469 252.25,161.7813 Q252.8438,161.5 253.4688,160.9219 L253.4688,163.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="146" x="264.5" y="162.1543">PreferencesServiceImpl</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="236.5" x2="412.5" y1="174" y2="174"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="236.5" x2="412.5" y1="182" y2="182"/><!--MD5=[5fbeefd74a1287e403846b1225257a40]
class PreferencesRepository--><rect fill="#DDEEE8" filter="url(#f1wjqzk1dlligo)" height="73.6094" id="PreferencesRepository" style="stroke: #225C4D; stroke-width: 1.5;" width="337" x="485" y="8"/><ellipse cx="583.25" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #225C4D; stroke-width: 1.0;"/><path d="M579.1719,19.7656 L579.1719,17.6094 L586.5625,17.6094 L586.5625,19.7656 L584.0938,19.7656 L584.0938,27.8438 L586.5625,27.8438 L586.5625,30 L579.1719,30 L579.1719,27.8438 L581.6406,27.8438 L581.6406,19.7656 L579.1719,19.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="603.75" y="28.1543">PreferencesRepository</text><line style="stroke: #225C4D; stroke-width: 1.5;" x1="486" x2="821" y1="40" y2="40"/><line style="stroke: #225C4D; stroke-width: 1.5;" x1="486" x2="821" y1="48" y2="48"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="325" x="491" y="62.2104">savePreference(userId : String, key : String, value: String)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="285" x="491" y="75.0151">loadPreference(userId : String, key : String): String</text><!--MD5=[4e2d6eca63c20da7fe6dee96b29a2ec4]
reverse link UserProvider to PreferencesServiceImpl--><path d="M149.77,78 C190.28,98.17 241.66,123.75 278.19,141.94 " fill="none" id="UserProvider&lt;-PreferencesServiceImpl" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="#225C4D" points="144.89,75.57,151.1607,83.1646,149.365,77.8003,154.7293,76.0046,144.89,75.57" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[7c48efe09af127d32a3c248c79514e82]
reverse link PreferencesService to PreferencesServiceImpl--><path d="M324.5,102.07 C324.5,116.12 324.5,130.43 324.5,141.85 " fill="none" id="PreferencesService&lt;-PreferencesServiceImpl" style="stroke: #225C4D; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="317.5,102.03,324.5,82.03,331.5,102.03,317.5,102.03" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[fd53641daafe5f4a3af3780d09de14b2]
reverse link PreferencesRepository to PreferencesServiceImpl--><path d="M549.15,83.74 C496.41,102.82 434.1,125.36 388.5,141.85 " fill="none" id="PreferencesRepository&lt;-PreferencesServiceImpl" style="stroke: #225C4D; stroke-width: 1.0;"/><polygon fill="#225C4D" points="553.9,82.03,544.0761,81.3297,549.1981,83.7307,546.7972,88.8527,553.9,82.03" style="stroke: #225C4D; stroke-width: 1.0;"/><!--MD5=[a3efe98eb77d9f5dfefa99976061319e]
@startuml
skinparam class {
 BackgroundColor #DDEEE8
 BorderColor #225C4D
 ArrowColor #225C4D
 }

interface UserProvider
UserProvider : getCurrentUserId(): String

interface PreferencesService
PreferencesService : savePreference(key : String, value: String)
PreferencesService : loadPreference(key : String): String

UserProvider <- - PreferencesServiceImpl
PreferencesService <|.. PreferencesServiceImpl
PreferencesRepository <- - PreferencesServiceImpl

interface PreferencesRepository
PreferencesRepository : savePreference(userId : String, key : String, value: String)
PreferencesRepository : loadPreference(userId : String, key : String): String

@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.18+10-post-Debian-1deb11u1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: DK
--></g></svg>